<!DOCTYPE html>
<html>
<head>

	<link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="style.css">

</head>
<body>

	<div class="teamWrap"></div>

	<div class="actionsWrap">
		<button>Make some drinks</button>
		<button>Put some music on</button>
		<button>Sing a little song</button>
	</div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js"></script>
	<script>

		arrTeam = [
			{
				"name": "Adrian",
				"affects": {
					"drink": [
						{
							"test": "caffeine > 80",
							"reaction": { "happiness": -10 }
						}
					],
					"dance": [
						{
							"test": "caffeine < 20",
							"reaction": { "happiness": -10 }
						},
						{
							"test": "caffeine > 50",
							"reaction": { "happiness": 20 }
						}
					]
				}
			},
			{
				"name": "Alex",
				"affects": {
					"dance": [ 
						{
							"test": "true",
							"reaction": { "happiness": 20 }
						}
					]
				}
			},
			{
				"name": "Xevi",
			},
			{
				"name": "Pete",
			},
			{
				"name": "Tim",
			}
		];


		var elemTeamWrap = $('.teamWrap');

		for( var i = 0, iLimit = arrTeam.length; i < iLimit; i++ ){

			$(elemTeamWrap).append('	<div class="person ' + arrTeam[i]['name'].toLowerCase() + 
				'"><h2>' + arrTeam[i].name + 
				'</h2><div class="imgWrap">' +
					'<img src="gif/' + arrTeam[i].name + 'Sad.gif" class="sad">' +
					'<img src="gif/' + arrTeam[i].name + 'Neutral.gif" class="neutral">' +
					'<img src="gif/' + arrTeam[i].name + 'Happy.gif" class="happy">' +
				'</div>' +
				'<label>Happiness</label><meter class="happiness" min="0" low="33"  high="66" optimum="90" max="100" value="50"></meter>' +
				'<label>Caffeination</label><meter class="caffeination" min="0" max="100" value="50"></meter>' +
			'</div>');
		}

		$('button').click( function(){
			$('.person').each( function(){
				var decRand = Math.random();
				var emotion = decRand > 0.5 ? '.happy' : '.sad';
				$(this).find('.sad, .happy').hide();
				$(this).find( emotion ).show();

				$(this).find('meter').attr('value', decRand * 100);
			});
		});

	</script>

</body>
</html>
